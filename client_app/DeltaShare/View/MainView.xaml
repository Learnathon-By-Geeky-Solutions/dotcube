<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="DeltaShare.View.MainView"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:skia="clr-namespace:SkiaSharp.Extended.UI.Controls;assembly=SkiaSharp.Extended.UI"
    xmlns:viewmodel="clr-namespace:DeltaShare.ViewModel"
    x:DataType="viewmodel:MainViewModel"
    Shell.ForegroundColor="{StaticResource Grad1}">
    <Shell.TitleView>
        <Grid ColumnDefinitions="*,*" RowDefinitions="*">
            <Button
                x:Name="settingsBtn"
                Grid.Row="0"
                Grid.Column="1"
                Margin="16,4,16,0"
                Padding="16,0,16,0"
                Command="{Binding ClickSettingsBtnCommand}"
                Text="Settings">
                <Button.ImageSource>
                    <FontImageSource
                        FontFamily="FASolid"
                        Glyph="&#xf013;"
                        Color="{AppThemeBinding Light={StaticResource White},
                                                Dark={StaticResource PrimaryDarkText}}" />
                </Button.ImageSource>
            </Button>
        </Grid>
    </Shell.TitleView>
    <Grid
        Padding="16,16"
        ColumnDefinitions="*,*"
        ColumnSpacing="20"
        RowDefinitions="Auto,Auto,Auto,Auto,Auto,Auto"
        RowSpacing="20">
        <Button
            x:Name="joinPoolBtn"
            Grid.Row="0"
            Grid.Column="0"
            Command="{Binding ClickJoinPoolBtnCommand}"
            FontSize="24"
            HeightRequest="120"
            LineBreakMode="WordWrap"
            Text="Join Pool"
            VerticalOptions="Center">
            <Button.ImageSource>
                <FontImageSource
                    FontFamily="FASolid"
                    Glyph="&#xf0c0;"
                    Size="40"
                    Color="{AppThemeBinding Light={StaticResource White},
                                            Dark={StaticResource PrimaryDarkText}}" />
            </Button.ImageSource>
        </Button>
        <Button
            x:Name="createPoolBtn"
            Grid.Row="0"
            Grid.Column="1"
            Command="{Binding ClickCreatePoolBtnCommand}"
            FontSize="24"
            HeightRequest="120"
            LineBreakMode="WordWrap"
            Text="Create Pool"
            VerticalOptions="Center">
            <Button.ImageSource>
                <FontImageSource
                    FontFamily="FASolid"
                    Glyph="&#xf055;"
                    Size="40"
                    Color="{AppThemeBinding Light={StaticResource White},
                                            Dark={StaticResource PrimaryDarkText}}" />
            </Button.ImageSource>
        </Button>
        <Image
            x:Name="logoImg"
            Grid.Row="1"
            Grid.ColumnSpan="2"
            Margin="0,0,0,30"
            Aspect="AspectFit"
            HorizontalOptions="Center"
            Source="logo.png"
            VerticalOptions="Center" />
        <skia:SKLottieView
            x:Name="animationView"
            Grid.Row="1"
            Grid.ColumnSpan="2"
            RepeatCount="2"
            Source="share_animation.json" />
        <Button
            x:Name="cloudStorageBtn"
            Grid.Row="2"
            Grid.ColumnSpan="2"
            Margin="0,0,0,0"
            Command="{Binding ClickCloudStorageBtnCommand}"
            FontSize="24"
            HeightRequest="120"
            HorizontalOptions="Fill"
            Text="Cloud Storage">
            <Button.ImageSource>
                <FontImageSource
                    FontFamily="FASolid"
                    Glyph="&#xf0c2;"
                    Color="{AppThemeBinding Light={StaticResource White},
                                            Dark={StaticResource PrimaryDarkText}}" />
            </Button.ImageSource>
        </Button>
        <Label
            Grid.Row="3"
            Grid.ColumnSpan="2"
            FontAttributes="Bold"
            FontSize="20"
            HorizontalOptions="Center"
            Text="To use cloud features" />
        <Grid
            Grid.Row="4"
            Grid.ColumnSpan="2"
            Margin="0,0,0,30"
            ColumnDefinitions="*,Auto,*"
            ColumnSpacing="10">
            <Button
                x:Name="loginBtn"
                Grid.Column="0"
                Command="{Binding ClickLoginBtnCommand}"
                FontSize="24"
                Text="Login">
                <Button.ImageSource>
                    <FontImageSource
                        FontFamily="FASolid"
                        Glyph="&#xf2f6;"
                        Color="{AppThemeBinding Light={StaticResource White},
                                                Dark={StaticResource PrimaryDarkText}}" />
                </Button.ImageSource>
            </Button>
            <Label
                Grid.Column="1"
                FontAttributes="Bold"
                FontSize="20"
                HorizontalTextAlignment="Center"
                Text="or"
                VerticalTextAlignment="Center" />
            <Button
                x:Name="signupBtn"
                Grid.Column="2"
                Command="{Binding ClickSignupBtnCommand}"
                FontSize="24"
                Text="Sign up">
                <Button.ImageSource>
                    <FontImageSource
                        FontFamily="FASolid"
                        Glyph="&#xf234;"
                        Color="{AppThemeBinding Light={StaticResource White},
                                                Dark={StaticResource PrimaryDarkText}}" />
                </Button.ImageSource>
            </Button>
        </Grid>
    </Grid>
</ContentPage>
